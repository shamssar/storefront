(this.webpackJsonpstorefront=this.webpackJsonpstorefront||[]).push([[0],{117:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),i=r(23),a=r.n(i),o=(r(92),r(93),r(42)),s=r(13),u=r(24),d=r(51),l=function(e){return function(t){return function(r){return"function"===typeof r?r(e.dispatch,e.getState):t(r)}}},j=r(36),p=r(47),b=r(15),f=r(48),h=r.n(f),x={categories:[],active:""};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case"SET_ACTIVE_CATEGORY":var c=Object(b.a)(e.categories);return{categories:c,active:n};case"RESET_ACTIVE":return x;case"FETCH_CATEGORIES":return{categories:n};default:return e}},m=r(34),g={products:[]};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case"UPDATE_INVENTORY":var c=e.products.map((function(e){return e.name===n&&0!==e.inventoryCount?Object(m.a)(Object(m.a)({},e),{},{inventoryCount:e.inventoryCount-1}):e}));return{products:c};case"FETCH_PRODUCTS":return{products:n};case"RESET_INVENTORY":return g;default:return e}},v={cart:[],totalItems:0,totalBill:0};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case"ADD_ITEM_CART":var c=Object(b.a)(e.cart),i=e.totalItems;if(0!==n.inventoryCount){i+=1;var a=n;c.filter((function(e){return e.name===a.name})).length>0?c.forEach((function(e){e.name===a.name&&(e.itemCount+=1)})):c.push({name:a.name,price:a.price,itemCount:1})}for(var o=0,s=0;c[s];){var u=c[s].price*c[s].itemCount;o+=u,s++}return{cart:c,totalItems:i,totalBill:o};case"RESET_CART":return v;default:return e}},T=Object(d.b)({categories:O,products:y,cart:C}),E=function(){return Object(d.c)(T,Object(d.a)(l))},w=r(2);var I=Object(u.b)((function(e){return{cart:e.cart}}))((function(e){var t=e.cart;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"storeHeader",children:[Object(w.jsx)(o.b,{to:"/",style:{marginLeft:"2rem",textDecoration:"none",fontSize:"3rem",fontWeight:"normal"},children:"MyStore"}),Object(w.jsxs)(o.b,{to:"/cart",style:{marginRight:"2rem",textDecoration:"none",fontSize:"1.1rem",fontWeight:"normal"},children:["Cart: ",t.totalItems]})]})})}));function A(){var e=(new Date).getFullYear();return Object(w.jsx)("div",{style:{backgroundColor:"lightgray",textAlign:"center",padding:"2px",position:"fixed",bottom:"0",width:"96vw"},children:Object(w.jsxs)("h2",{children:["\xa9 ",e,"  Shams Alsaraireh"]})})}var R=r(167);var S=Object(u.b)((function(e){return{categories:e.categories}}),(function(e){return{setCategory:function(t){return e({type:"SET_ACTIVE_CATEGORY",payload:t})},reset:function(){return e({type:"RESET_ACTIVE"})},getCategories:function(){return e(function(){var e=Object(p.a)(Object(j.a)().mark((function e(t){var r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api-integration-server.herokuapp.com/categories");case 2:r=e.sent,t({type:"FETCH_CATEGORIES",payload:r.data.results});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.categories,r=e.setCategory,c=e.getCategories;return Object(n.useEffect)((function(){c()}),[c]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{style:{fontWeight:"normal",fontSize:"2rem",marginLeft:"2rem"},children:"Categories"}),Object(w.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row"},children:t.categories?t.categories.map((function(e,t){return Object(w.jsx)("div",{children:Object(w.jsx)(R.a,{variant:"contained",style:{width:"10rem",marginLeft:"2rem"},onClick:function(){r(e.id)},children:e.displayName},t)})})):null})]})})),_=r(175),q=r(169),D=r(174),k=r(176),F=r(171),N=r(170);var V=Object(u.b)((function(e){return{products:e.products,categories:e.categories}}),(function(e){return{decrement:function(t){return e({type:"UPDATE_INVENTORY",payload:t})},reset:function(){return e({type:"RESET_INVENTORY"})},addToCart:function(t){return e({type:"ADD_ITEM_CART",payload:t})},getProducts:function(){return e(function(){var e=Object(p.a)(Object(j.a)().mark((function e(t){var r;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api-integration-server.herokuapp.com/products");case 2:r=e.sent,t({type:"FETCH_PRODUCTS",payload:r.data.results});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.products,r=e.getProducts,c=e.addToCart,i=e.decrement,a=e.categories;return Object(n.useEffect)((function(){r()}),[r]),console.log("PRODUCTS",t),console.log("ACTIVE",a.active),Object(w.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",justifyContent:"center",position:"relative",zIndex:"100"},children:t.products.map((function(e,t){return a.active===parseInt(e.categoryId)?Object(w.jsx)("div",{style:{margin:"3rem",position:"relative",zIndex:"100"},children:Object(w.jsxs)(q.a,{style:{width:350,background:"darkGrey"},children:[Object(w.jsxs)(D.a,{children:[Object(w.jsx)(N.a,{component:"img",height:"140",src:"../img/markus-spiske-iar-afB0QQw-unsplash.jpg",alt:"random"}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(_.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),Object(w.jsx)(_.a,{variant:"body2",color:"text.secondary",children:e.description})]})]}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)(R.a,{size:"small",color:"primary",onClick:function(){c(e),i(e.name)},children:"Add to Cart"}),Object(w.jsxs)("p",{children:["Left:",e.inventoryCount]})]})]})},t):null}))})})),B=r(173);var P=Object(u.b)((function(e){return{cart:e.cart}}),(function(e){return{addItem:function(t){return e({type:"ADD_ITEM_CART",payload:t})},reset:function(){return e({type:"RESET_CART"})}}}))((function(e){return Object(w.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:e.cart.cart.map((function(e,t){return Object(w.jsxs)(B.a,{square:!0,elevation:3,style:{width:"8%",textAlign:"center",margin:".5rem"},children:[e.name," (",e.itemCount,")"]},t)}))})})),Y=r(168),z=r(172),M=r(164);var G=Object(u.b)((function(e){return{products:e.products,cart:e.cart}}))((function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(Y.a,{style:{border:"1px solid lightgrey",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"5rem",width:"60%",padding:"2%",boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 38px"},children:[Object(w.jsx)("h3",{children:"Order Summary"}),e.cart.cart.map((function(e,t){return Object(w.jsxs)("p",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(w.jsxs)("span",{children:[e.name," ",e.itemCount>1?Object(w.jsxs)(w.Fragment,{children:["x(",e.itemCount,")"]}):null]}),Object(w.jsxs)("span",{children:["$",e.price*e.itemCount]})]},t)})),Object(w.jsxs)("p",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(w.jsx)("span",{children:"Total"}),Object(w.jsxs)("span",{children:["$",e.cart.totalBill]})]}),Object(w.jsxs)(z.a,{style:{display:"flex"},component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(w.jsxs)("div",{style:{display:"grid"},children:[Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"Full Name"}),Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"Address"}),Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"City"}),Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"State"}),Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"Zip"})]}),Object(w.jsxs)("div",{style:{display:"grid"},children:[Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"Credit Card"}),Object(w.jsx)(M.a,{required:!0,id:"outlined-required",type:"date"}),Object(w.jsx)(M.a,{required:!0,id:"outlined-required",label:"cvv"})]})]}),Object(w.jsxs)(R.a,{variant:"contained",style:{width:"15rem"},children:[" ","Buy Now"]})]})})}));var H=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(u.a,{store:E(),children:Object(w.jsxs)(o.a,{children:[Object(w.jsx)(I,{}),Object(w.jsxs)(s.c,{children:[Object(w.jsx)(s.a,{path:"/cart",element:Object(w.jsx)(G,{})}),Object(w.jsx)(s.a,{path:"/",element:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(V,{}),Object(w.jsx)(P,{})]})})]}),Object(w.jsx)(A,{})]})})})};a.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(H,{})}),document.getElementById("root"))},92:function(e,t,r){},93:function(e,t,r){}},[[117,1,2]]]);
//# sourceMappingURL=main.38883090.chunk.js.map