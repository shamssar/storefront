(this.webpackJsonpstorefront=this.webpackJsonpstorefront||[]).push([[0],{73:function(t,e,n){},74:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(39),o=n.n(a),i=(n(73),n(74),n(26)),u=n(44),s=function(t){return function(e){return function(n){return"function"===typeof n?n(t.dispatch,t.getState):e(n)}}},d=n(29),p=n(40),l=n(6),j=n(42),f=n.n(j),O={categories:[],active:""};var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"SET_ACTIVE_CATEGORY":var c=Object(l.a)(t.categories);return{categories:c,active:r};case"RESET_ACTIVE":return O;case"FETCH_CATEGORIES":return{categories:r};default:return t}},g=n(30),h={products:[]};var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"UPDATE_INVENTORY":var c=t.products.map((function(t){return t.name===r&&0!==t.inventoryCount?Object(g.a)(Object(g.a)({},t),{},{inventoryCount:t.inventoryCount-1}):t}));return{products:c};case"FETCH_PRODUCTS":return{products:r};case"RESET_INVENTORY":return h;default:return t}},m={cart:[],totalItems:0};var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"ADD_ITEM_CART":var c=Object(l.a)(t.cart),a=t.totalItems;if(0!==r.inventoryCount){a+=1;var o=r;c.filter((function(t){return t.name===o.name})).length>0?c.forEach((function(t){t.name===o.name&&(t.itemCount+=1)})):c.push({name:o.name,itemCount:1})}return{cart:c,totalItems:a};case"RESET_CART":return m;default:return t}},E=Object(u.b)({categories:b,products:v,cart:y}),T=function(){return Object(u.c)(E,Object(u.a)(s))},C=n(132),x=n(3);function R(){return Object(x.jsx)(C.a,{container:!0,style:{backgroundColor:"lightgray",padding:"0 18px 0 18px"},children:Object(x.jsx)(C.a,{item:!0,xs:4,children:Object(x.jsx)("h2",{children:"My Store"})})})}function A(){var t=(new Date).getFullYear();return Object(x.jsx)("div",{style:{backgroundColor:"lightgray",textAlign:"center",padding:"2px",position:"fixed",bottom:"0",width:"96vw"},children:Object(x.jsxs)("h2",{children:["\xa9 ",t,"  Shams Alsaraireh"]})})}var I=Object(i.b)((function(t){return{categories:t.categories}}),(function(t){return{setCategory:function(e){return t({type:"SET_ACTIVE_CATEGORY",payload:e})},reset:function(){return t({type:"RESET_ACTIVE"})},getCategories:function(){return t(function(){var t=Object(p.a)(Object(d.a)().mark((function t(e){var n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://api-integration-server.herokuapp.com/categories");case 2:n=t.sent,e({type:"FETCH_CATEGORIES",payload:n.data.results});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}))((function(t){var e=t.categories,n=t.setCategory,c=t.getCategories;return Object(r.useEffect)((function(){c()}),[c]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"CATEGORIES"}),e.categories.map((function(t,e){return Object(x.jsx)("div",{onClick:function(){n(t.id)},id:t.displayName,name:t.displayName,value:t.displayName,children:t.displayName},e)})),"Active: ",e.active]})})),_=n(133),S=n(137),D=n(136),w=n(134);var N=Object(i.b)((function(t){return{products:t.products,categories:t.categories,cart:t.cart}}),(function(t){return{decrement:function(e){return t({type:"UPDATE_INVENTORY",payload:e})},reset:function(){return t({type:"RESET_INVENTORY"})},addToCart:function(e){return t({type:"ADD_ITEM_CART",payload:e})},getProducts:function(){return t(function(){var t=Object(p.a)(Object(d.a)().mark((function t(e){var n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://api-integration-server.herokuapp.com/products");case 2:n=t.sent,e({type:"FETCH_PRODUCTS",payload:n.data.results});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}))((function(t){var e=t.products,n=t.getProducts,c=t.addToCart,a=t.decrement,o=t.categories;return Object(r.useEffect)((function(){n()}),[n]),console.log("PRODUCTS",e),console.log("ACTIVE",o.active),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"PRODUCTS"}),Object(x.jsx)(D.a,{sx:{margin:"50px 0px 0px 0px"},justifyContent:"center",container:!0,spacing:1,children:e.products.map((function(t,e){return Object(x.jsxs)(D.a,{item:!0,children:[" ",o.active===parseInt(t.categoryId)?Object(x.jsxs)(w.a,{children:[Object(x.jsxs)(_.a,{onClick:function(){a(t.name),c(t)},children:["Buy ",t.name,"!"]}),Object(x.jsx)(S.a,{children:t.inventoryCount})]}):null]},e)}))})]})}));var k=Object(i.b)((function(t){return{cart:t.cart}}),(function(t){return{addItem:function(e){return t({type:"ADD_ITEM_CART",payload:e})},reset:function(){return t({type:"RESET_CART"})}}}))((function(t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"CART"}),t.cart.cart.map((function(t,e){return Object(x.jsxs)("div",{children:[t.name," count: ",t.itemCount]},e)})),"Total: ",t.cart.totalItems]})}));var F=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(i.a,{store:T(),children:[Object(x.jsx)(R,{}),Object(x.jsx)(I,{}),Object(x.jsx)(N,{}),Object(x.jsx)(k,{}),Object(x.jsx)(A,{})]})})};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.0dc322b1.chunk.js.map